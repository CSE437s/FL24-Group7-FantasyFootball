{% extends "base.html" %}

{% block title %}Home - Yahoo Fantasy Football MVP{% endblock %}


{% block content %}

<div class="container">
    <h1>Select a League</h1>
    <p class = "page-description">
        {% block description %}Welcome to Yahoo Fantasy Football MVP! To get started, make sure you are logged in to your Yahoo account and select a league to start learning some new insights!{% endblock %}
    </p>
    <form method="POST">
        <label for="league_id">Choose a league:</label>
        <select name="league_id" id="league_id">
            {% for league in leagues %}
                <option value="{{ league.league_id }}">{{ league.name }}</option>
            {% endfor %}
        </select>
        <button type="submit">Select League</button>
    </form>

    <!-- Loader element -->
    <div class="loader" id="loader" style="display: none;"></div>

    {% if player_and_teams_loaded %}
    <h2>Connected!</h2>
    {% endif %}
</div>

<!-- Add the JavaScript to show the loader when the form is submitted -->
<script>
    document.getElementById('leagueForm').addEventListener('submit', function() {
        document.getElementById('loader').style.display = 'block';
    });
</script>
{% endblock %}
